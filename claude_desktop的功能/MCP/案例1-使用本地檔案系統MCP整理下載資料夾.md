# 案例 1：使用本地檔案系統 MCP Server 整理下載資料夾

本案例展示如何使用 **本地檔案系統 MCP Server**，讓 Claude 直接存取您的電腦檔案，協助整理下載資料夾中的檔案，自動分類和整理。

---

## 📋 假設情境：「整理混亂的下載資料夾」

### 背景設定

**使用者：** 小明（大學生）
**使用工具：** Claude Desktop + 本地檔案系統 MCP Server
**問題：** 下載資料夾累積了大量檔案，包括：
- 圖片檔案（jpg, png, gif）
- 文件檔案（pdf, docx, txt）
- 影片檔案（mp4, mov）
- 壓縮檔案（zip, rar）
- 其他雜項檔案

**需求：**
- 自動分類檔案到對應的資料夾（圖片、文件、影片、壓縮檔等）
- 整理檔案名稱
- 刪除重複或不需要的檔案

---

## 🎯 本地檔案系統 MCP Server 的實際應用

### 未使用 MCP Server 的情況

**你：** 「幫我整理下載資料夾的檔案」

**Claude 回應：** 
抱歉，我無法存取您的電腦檔案，請您自行手動整理。

---

### 連接本地檔案系統 MCP Server 後的情況

**你：** 「請幫我整理下載資料夾，將檔案分類到對應的資料夾」

**Claude 回應：**
會直接存取您的下載資料夾，讀取所有檔案，並協助您分類整理。

---

## 💡 實際操作步驟

### 第一步：安裝和設定本地檔案系統 MCP Server

#### 前置準備

在開始之前，請確認您的電腦已安裝以下工具：

1. **Node.js**（如果還沒安裝）
   - 前往 [Node.js 官網](https://nodejs.org/) 下載安裝
   - 或使用套件管理器安裝（macOS 使用 Homebrew：`brew install node`）
   - 安裝後，開啟終端機輸入 `node --version` 確認安裝成功

#### 設定步驟

1. **開啟 Claude Desktop 設定**
   
   方法一（推薦）：透過 Claude Desktop 介面設定
   - 開啟 Claude Desktop 應用程式
   - 點擊左下角的「設定」圖示
   - 選擇 `Developer` → `MCP`
   - 在這裡可以直接編輯 MCP 伺服器設定
   
   方法二：直接編輯設定檔
   - **Mac**：`~/Library/Application Support/Claude/claude_desktop_config.json`
   - **Windows**：`%APPDATA%\Claude\claude_desktop_config.json`
   - 如果檔案不存在，請建立一個新的 JSON 檔案

2. **編輯設定檔內容**

   在設定檔中加入以下內容（請將路徑改為您的實際路徑）：

   ```json
   {
     "mcpServers": {
       "filesystem": {
         "command": "npx",
         "args": [
           "-y",
           "@modelcontextprotocol/server-filesystem",
           "/Users/您的使用者名稱/Downloads"
         ]
       }
     }
   }
   ```

   **⚠️ 重要提示：**
   - 請將 `/Users/您的使用者名稱/Downloads` 改為您實際的下載資料夾路徑
   - macOS 下載資料夾通常是：`/Users/您的使用者名稱/Downloads`
   - Windows 下載資料夾通常是：`C:\Users\您的使用者名稱\Downloads`

3. **儲存並重啟 Claude Desktop**
   - 儲存設定檔
   - 完全關閉 Claude Desktop
   - 重新開啟 Claude Desktop

4. **驗證連接**

   在 Claude Desktop 中測試：

   ```
   請列出我的下載資料夾中有哪些檔案？
   ```

   如果 Claude 能夠列出檔案，表示 MCP Server 連接成功！

---

### 第二步：使用本地檔案系統 MCP Server 整理檔案

#### **對話範例 1：查看下載資料夾的檔案清單**

**你：**
```
請列出我的下載資料夾中有哪些檔案？
並告訴我每個檔案的類型和大小。
```

**Claude 的回應：**
會列出所有檔案，例如：
- `IMG_20250120.jpg` - 圖片檔案 (2.5 MB)
- `報告.docx` - 文件檔案 (156 KB)
- `video.mp4` - 影片檔案 (125 MB)
- `資料.zip` - 壓縮檔案 (5.2 MB)
- ...（繼續列出其他檔案）

---

#### **對話範例 2：自動分類檔案**

**你：**
```
請幫我整理下載資料夾中的檔案，執行以下操作：

1. 建立以下資料夾（如果不存在）：
   - 圖片
   - 文件
   - 影片
   - 壓縮檔
   - 其他

2. 將所有 jpg、png、gif 圖片檔案移到「圖片」資料夾
3. 將所有 pdf、docx、txt 文件檔案移到「文件」資料夾
4. 將所有 mp4、mov 影片檔案移到「影片」資料夾
5. 將所有 zip、rar 壓縮檔案移到「壓縮檔」資料夾
6. 其他檔案移到「其他」資料夾

請告訴我整理後的結果。
```

**Claude 的回應：**
會：
1. 讀取下載資料夾中的所有檔案
2. 根據檔案類型進行分類
3. 建立對應的資料夾
4. 移動檔案到對應資料夾
5. 回報整理結果

**整理結果範例：**
```
✅ 已成功整理下載資料夾！

整理結果：
- 圖片資料夾：15 個檔案（IMG_20250120.jpg、screenshot.png 等）
- 文件資料夾：8 個檔案（報告.docx、readme.txt 等）
- 影片資料夾：3 個檔案（video.mp4 等）
- 壓縮檔資料夾：5 個檔案（資料.zip 等）
- 其他資料夾：2 個檔案

總共整理了 33 個檔案。
```

---

#### **對話範例 3：找出並刪除重複檔案**

**你：**
```
請檢查我的下載資料夾中是否有重複的檔案？
如果有重複的檔案，請幫我找出並建議刪除哪一個。
```

**Claude 的回應：**
會：
1. 讀取所有檔案
2. 比較檔案名稱和大小
3. 找出可能的重複檔案
4. 提供建議

**回應範例：**
```
我發現以下可能的重複檔案：

1. `報告.docx` 和 `報告(1).docx`
   - 檔案大小相同：156 KB
   - 建議保留：`報告.docx`（較新的修改日期）
   - 建議刪除：`報告(1).docx`

2. `IMG_20250120.jpg` 和 `IMG_20250120_copy.jpg`
   - 檔案大小相同：2.5 MB
   - 建議保留：`IMG_20250120.jpg`
   - 建議刪除：`IMG_20250120_copy.jpg`

請確認是否要刪除這些重複檔案？
```

---

#### **對話範例 4：重新命名檔案（統一格式）**

**你：**
```
請幫我將下載資料夾中所有圖片檔案重新命名，格式如下：
「圖片_20250120_001.jpg」這樣的格式（日期_序號）
```

**Claude 的回應：**
會：
1. 找出所有圖片檔案
2. 根據檔案日期重新命名
3. 執行重新命名
4. 回報結果

**回應範例：**
```
✅ 已成功重新命名圖片檔案：

原檔案名 → 新檔案名
- IMG_20250120.jpg → 圖片_20250120_001.jpg
- screenshot.png → 圖片_20250120_002.png
- photo.gif → 圖片_20250120_003.gif

共重新命名了 15 個圖片檔案。
```

---

## 📝 完整操作流程範例

以下是一個完整的對話流程，您可以複製貼上使用：

```
請幫我整理下載資料夾，執行以下操作：

1. 先列出目前下載資料夾中有哪些檔案（包含檔案類型和大小）

2. 建立資料夾結構：
   - 圖片
   - 文件
   - 影片
   - 壓縮檔
   - 其他

3. 將檔案分類移動：
   - jpg, png, gif → 圖片資料夾
   - pdf, docx, txt → 文件資料夾
   - mp4, mov → 影片資料夾
   - zip, rar → 壓縮檔資料夾
   - 其他 → 其他資料夾

4. 最後提供一份整理報告，說明整理了哪些檔案。
```

---

## ⚠️ 注意事項

### 安全性提醒

1. **路徑權限**
   - MCP Server 只能存取您指定的資料夾
   - 請勿給予過大的權限（例如整個硬碟）

2. **檔案備份**
   - 在執行大量檔案操作前，建議先備份重要檔案
   - Claude 會先詢問您確認才執行刪除或移動操作

3. **測試先行**
   - 第一次使用時，先從查看檔案清單開始
   - 確認 MCP Server 正常運作後，再執行整理操作

### 常見問題

**Q：設定後 Claude 還是無法存取檔案？**

A：請檢查：
- 設定檔的路徑是否正確
- JSON 格式是否正確（可以使用線上 JSON 驗證工具）
- 是否有重新啟動 Claude Desktop
- Node.js 是否正確安裝

**Q：可以存取其他資料夾嗎？**

A：可以，請在設定檔的 `args` 中修改路徑。例如：
```json
"args": [
  "-y",
  "@modelcontextprotocol/server-filesystem",
  "/Users/您的使用者名稱/Documents"
]
```

**Q：可以同時存取多個資料夾嗎？**

A：可以！您可以設定多個 MCP Server，或使用多個資料夾路徑。

---

## 🎓 學習重點

透過本案例，您可以學到：

1. **MCP Server 的基本概念**
   - 了解 Claude Desktop 如何透過 MCP Server 存取本地檔案

2. **設定檔案的操作**
   - 學會如何編輯 Claude Desktop 的設定檔
   - 了解 JSON 格式的基本結構

3. **檔案管理技巧**
   - 使用 AI 協助自動分類檔案
   - 學習如何設計有效的 Prompt 來完成檔案整理任務

4. **實際應用場景**
   - 整理下載資料夾
   - 分類專案檔案
   - 管理文件資料夾

---

## 🔗 相關資源

- [MCP 官方文件](https://modelcontextprotocol.io/)
- [Node.js 官方網站](https://nodejs.org/)
- [檔案系統 MCP Server 文件](https://github.com/modelcontextprotocol/servers)
