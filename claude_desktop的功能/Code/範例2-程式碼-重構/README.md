# 重構範例程式碼說明

這個資料夾包含一個有大量重複程式碼的 Python 專案，用於演示 Claude Code 的重構功能。

## 檔案說明

- `data_processor.py`: 資料處理模組，包含三個有大量重複程式碼的函式
- `main.py`: 主程式，用來示範資料處理功能
- `create_sample_data.py`: 建立測試資料的腳本

## 已知問題

這個專案有以下需要重構的問題：

1. **重複的 CSV 讀取邏輯**：三個函式都有相同的檔案讀取程式碼
2. **重複的資料驗證邏輯**：驗證方式類似，但寫了三次
3. **重複的資料轉換邏輯**：轉換模式相同，但實作重複
4. **重複的檔案寫入邏輯**：寫入方式完全相同

## 如何使用

### 步驟 1：建立測試資料

```bash
cd 範例2-程式碼-重構
python create_sample_data.py
```

這會建立三個測試用的 CSV 檔案在 `data/` 目錄中。

### 步驟 2：執行主程式

```bash
python main.py
```

這會處理所有資料並輸出到 `output/` 目錄。

### 步驟 3：使用 Claude Code 重構

使用 `範例2-程式碼重構與優化.md` 中的 Prompt 範例 1 來重構這些重複的程式碼。

## 重構目標

使用 Claude Code 重構後，應該能夠：

- 建立通用的 CSV 讀取函式
- 建立通用的資料驗證函式
- 建立通用的資料轉換函式
- 建立通用的檔案寫入函式
- 減少程式碼重複，提升可維護性
- 保持原本的功能不變
